#include <bits/stdc++.h>

using namespace std;

int solve(int n){
	queue<pair<int, int>> qe;
	qe.push({n, 0});
	map<int, int> mp;
	mp[n]=1;
	
	while(!qe.empty()){
		auto tmp=qe.front(); qe.pop();
		
		if(tmp.first==1) return tmp.second;
		
		int a=tmp.first-1;
		if(mp.find(a)==mp.end()){
			qe.push({a, tmp.second+1});
			mp[a]=1;
		}
		
		for(int i=2; i<=sqrt(tmp.first); i++){
			if(tmp.first%i==0){
				int b=max(tmp.first/i, i);
				
				if(mp.find(b)==mp.end()){
					qe.push({b, tmp.second+1});
					mp[b]=1;
				}
			}
		}
	}
	
	return -1;   
} 

int main(){
	int t;
	cin>>t;
	while (t--){
		int n; cin>>n;
		
		cout<<solve(n)<<'\n';
	}
	
	return 0;
}
