Code 1: 
#include <bits/stdc++.h>

using namespace std;

int n,k,a[1005];
set <string> se;
string b[10005];

void in(void)
{
	for (int i=1;i<=k;i++)
		cout<<b[a[i]]<<" ";
	cout<<endl;
}

void Try(int i)
{
	for (int j= a[i-1]+1;j<=n-k+i;j++)
	{
		a[i] = j;
		if (i == k)
			in();
		else
			Try(i+1);
	}
}

int main()
{
	cin>>n>>k;
	for (int i=0;i<n;i++){
		string s;
		cin>>s;
		se.insert(s);
	}
	n = se.size();
	int cnt = 1;
	for (auto x : se){
		b[cnt] = x;
		cnt++;
	}
	Try(1);
	
	return 0;
}
Code 2:
#include <bits/stdc++.h>

using namespace std;

int a[100005];

void Try(int i,int n,int k,vector <string> v){
	for (int j=a[i-1] + 1;j<=n-k+i;j++){
		a[i] = j;
		if (i == k){
			for (int i=1;i<=k;i++){
				cout<<v[a[i] - 1]<<" ";
			}
			cout<<endl;
		}else{
			Try(i+1,n,k,v);
		}
	}
}

int main(){
	int n,k;
	cin>>n>>k;
	set <string> st;
	for (int i=0;i<n;i++){
		string s;
		cin>>s;
		st.insert(s);
	}
	vector <string> v(st.begin(),st.end());
	n = v.size();
	Try(1,n,k,v);
	
	return 0;
}
